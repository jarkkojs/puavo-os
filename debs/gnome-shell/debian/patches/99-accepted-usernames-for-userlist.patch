diff -ruN gnome-shell/js/gdm/loginDialog.js gnome-shell/js/gdm/loginDialog.js
--- gnome-shell/js/gdm/loginDialog.js	2021-03-15 23:28:45.004284400 +0200
+++ gnome-shell/js/gdm/loginDialog.js	2021-05-17 13:56:49.293636261 +0300
@@ -159,7 +159,7 @@
         'item-added': { param_types: [UserListItem.$gtype] },
     },
 }, class UserList extends St.ScrollView {
-    _init() {
+    _init(accepted_users) {
         super._init({
             style_class: 'login-dialog-user-list-view',
             x_expand: true,
@@ -174,6 +174,8 @@
 
         this.add_actor(this._box);
         this._items = {};
+
+        this._accepted_users = accepted_users.split(',');
     }
 
     vfunc_key_focus_in() {
@@ -260,6 +262,17 @@
         if (user.locked)
             return;
 
+        is_accepted = false;
+        for (let i = 0; i < this._accepted_users.length; i++) {
+            if (this._accepted_users[i] == '*' ||
+              this._accepted_users[i] == user.user_name) {
+                is_accepted = true;
+                break;
+            }
+        }
+        if (!is_accepted)
+            return;
+
         let userName = user.get_user_name();
 
         if (!userName)
@@ -441,7 +454,8 @@
                                                     visible: false });
         this.add_child(this._userSelectionBox);
 
-        this._userList = new UserList();
+        let accepted_users = this._settings.get_string('accepted-usernames-for-userlist');
+        this._userList = new UserList(accepted_users);
         this._userSelectionBox.add_child(this._userList);
 
         this._authPrompt = new AuthPrompt.AuthPrompt(this._gdmClient, AuthPrompt.AuthPromptMode.UNLOCK_OR_LOG_IN);
